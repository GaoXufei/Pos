webpackJsonp([1],{"+HRO":function(t,o){},"2qQm":function(t,o){},"9Rmr":function(t,o){},JKPi:function(t,o){},NHnr:function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=s("VCXJ"),e={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"toolbar"},[o("ul",[o("li",[o("a",{attrs:{href:"#/"}},[o("i",{staticClass:"icon iconfont icon-account"}),o("p",[this._v("个人")])])]),this._v(" "),o("li",[o("a",{attrs:{href:"#/test"}},[o("i",{staticClass:"icon iconfont icon-renminbi1688"}),o("p",[this._v("收银")])])]),this._v(" "),o("li",[o("a",{attrs:{href:"javascript:return false;"}},[o("i",{staticClass:"icon iconfont icon-wxbmingxingdianpu"}),o("p",[this._v("店铺")])])])])])}]};var n={name:"App",components:{ToolBar:s("Z0/y")({name:"toolbar"},e,!1,function(t){s("+HRO")},"data-v-5b01ba79",null).exports}},i={render:function(){var t=this.$createElement,o=this._self._c||t;return o("div",{attrs:{id:"app"}},[o("tool-bar"),this._v(" "),o("router-view")],1)},staticRenderFns:[]};var r=s("Z0/y")(n,i,!1,function(t){s("tMPd")},null,null).exports,c=s("zO6J"),d=s("HzJ8"),l=s.n(d),u=s("lC5x"),p=s.n(u),g=s("J0Oq"),v=s.n(g),f={name:"pos",data:function(){return{goodsType0:[],goodsType1:[],goodsType2:[],goodsType3:[],goodsData:[],hotGoods:[],totalCount:0,totalPrice:0}},filters:{PriceConversion:function(t){return"￥"+t}},created:function(){var t=this;v()(p.a.mark(function o(){var s,a;return p.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.$axios.get("http://jspang.com/DemoApi/oftenGoods.php");case 2:return s=o.sent,o.next=5,t.$axios.get("http://jspang.com/DemoApi/typeGoods.php");case 5:a=o.sent,t.hotGoods=s.data,t.goodsType0=a.data[0],t.goodsType1=a.data[1],t.goodsType2=a.data[2],t.goodsType3=a.data[3];case 11:case"end":return o.stop()}},o,t)}))()},methods:{addOrderList:function(t){var o=!1,s=!0,a=!1,e=void 0;try{for(var n,i=l()(this.goodsData);!(s=(n=i.next()).done);s=!0){n.value.goodsId===t.goodsId&&(o=!0)}}catch(t){a=!0,e=t}finally{try{!s&&i.return&&i.return()}finally{if(a)throw e}}if(o)this.addOrderCount(t);else{this.goodsData.push(function(t){return{goodsId:t.goodsId,goodsName:t.goodsName,goodsCount:1,goodsPrice:t.price}}(t))}},addOrderCount:function(t){this.goodsData.filter(function(o){return o.goodsId===t.goodsId})[0].goodsCount++},removeOrderItem:function(t){this.goodsData.splice(this.goodsData.filter(function(o){return o.goodsId===t.goodsId})[0],1)},checkOut:function(){0!==this.totalCount?(this.$message({message:"结账成功！",type:"success"}),this.goodsData=[]):this.$message({message:"什么都没有！",type:"warning"})}},watch:{},computed:{GoodsDataTotalCount:function(){var t=0;return this.goodsData.forEach(function(o){t+=o.goodsCount}),this.totalCount=t,t},GoodsDataTotalMoney:function(){var t=0;return this.goodsData.forEach(function(o){t+=o.goodsPrice*o.goodsCount}),this.totalPrice=t,t}}},_={render:function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"pos"},[s("el-row",{staticClass:"pos-wrap"},[s("el-col",{staticClass:"pos-order",attrs:{span:7}},[s("el-tabs",[s("el-tab-pane",{staticClass:"paneHeight",attrs:{label:"订单"}},[s("el-table",{staticClass:"goodTable",attrs:{data:t.goodsData}},[s("el-table-column",{attrs:{prop:"goodsName",label:"商品名称",fixed:"left"}}),t._v(" "),s("el-table-column",{attrs:{prop:"goodsPrice",label:"单价(元)"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(o){return[s("el-input-number",{staticClass:"goodsCountBox",attrs:{size:"mini",min:1,max:99,"controls-position":"right"},model:{value:o.row.goodsCount,callback:function(s){t.$set(o.row,"goodsCount",s)},expression:"scope.row.goodsCount"}}),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){t.removeOrderItem(o.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),s("div",{staticClass:"goodsSummary"},[s("i",[t._v("数量：")]),s("span",[t._v(t._s(t.GoodsDataTotalCount)+"件")]),t._v(" "),s("i",[t._v("价格：")]),s("span",[t._v(t._s(t._f("PriceConversion")(t.GoodsDataTotalMoney)))])]),t._v(" "),s("div",{staticClass:"goodOrderBtn"},[s("el-button",{attrs:{type:"success"},on:{click:t.checkOut}},[t._v("结账")]),t._v(" "),s("el-button",{attrs:{type:"warning"}},[t._v("挂单")]),t._v(" "),s("el-button",{attrs:{type:""}},[t._v("外卖")])],1)],1),t._v(" "),s("el-tab-pane",{staticClass:"paneHeight",attrs:{label:"挂单"}},[t._v("\n          暂时无法挂单\n        ")]),t._v(" "),s("el-tab-pane",{staticClass:"paneHeight",attrs:{label:"外卖"}},[t._v("\n          外卖休息中\n        ")])],1)],1),t._v(" "),s("el-col",{attrs:{span:17}},[s("div",{staticClass:"hot"},[s("div",{staticClass:"title"},[s("h4",[t._v("热门商品")])]),t._v(" "),s("div",{staticClass:"content"},[s("ul",t._l(t.hotGoods,function(o){return s("li",{key:o.id,on:{click:function(s){t.addOrderList(o)}}},[s("span",{domProps:{textContent:t._s(o.goodsName)}}),s("i",[t._v(t._s(t._f("PriceConversion")(o.price)))])])}))])]),t._v(" "),s("div",{staticClass:"goodsType"},[s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"汉堡"}},[s("ul",{staticClass:"cookList"},t._l(t.goodsType0,function(o){return s("li",{key:o.goodsId,on:{click:function(s){t.addOrderList(o)}}},[s("div",{staticClass:"goodsImg"},[s("img",{attrs:{src:o.goodsImg,alt:""}})]),t._v(" "),s("p",[s("span",[t._v(t._s(o.goodsName))]),t._v(" "),s("i",[t._v(t._s(t._f("PriceConversion")(o.price)))])])])}))]),t._v(" "),s("el-tab-pane",{attrs:{label:"小食"}},[s("ul",{staticClass:"cookList"},t._l(t.goodsType1,function(o){return s("li",{key:o.goodsId,on:{click:function(s){t.addOrderList(o)}}},[s("div",{staticClass:"goodsImg"},[s("img",{attrs:{src:o.goodsImg,alt:""}})]),t._v(" "),s("p",[s("span",[t._v(t._s(o.goodsName))]),t._v(" "),s("i",[t._v(t._s(t._f("PriceConversion")(o.price)))])])])}))]),t._v(" "),s("el-tab-pane",{attrs:{label:"饮料"}},[s("ul",{staticClass:"cookList"},t._l(t.goodsType2,function(o){return s("li",{key:o.goodsId,on:{click:function(s){t.addOrderList(o)}}},[s("div",{staticClass:"goodsImg"},[s("img",{attrs:{src:o.goodsImg,alt:""}})]),t._v(" "),s("p",[s("span",[t._v(t._s(o.goodsName))]),t._v(" "),s("i",[t._v(t._s(t._f("PriceConversion")(o.price)))])])])}))]),t._v(" "),s("el-tab-pane",{attrs:{label:"套餐"}},[s("ul",{staticClass:"cookList"},t._l(t.goodsType3,function(o){return s("li",{key:o.goodsId,on:{click:function(s){t.addOrderList(o)}}},[s("div",{staticClass:"goodsImg"},[s("img",{attrs:{src:o.goodsImg,alt:""}})]),t._v(" "),s("p",[s("span",[t._v(t._s(o.goodsName))]),t._v(" "),s("i",[t._v(t._s(t._f("PriceConversion")(o.price)))])])])}))])],1)],1)])],1)],1)},staticRenderFns:[]};var m=s("Z0/y")(f,_,!1,function(t){s("JKPi")},"data-v-0054af04",null).exports;a.default.use(c.a);var h=new c.a({routes:[{path:"/",name:"pos",component:m}]}),C=(s("2qQm"),s("9Rmr"),s("xUsN")),b=s.n(C),y=(s("NuO4"),s("aozt")),k=s.n(y);a.default.prototype.$axios=k.a,a.default.use(b.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:h,components:{App:r},template:"<App/>"})},NuO4:function(t,o){},tMPd:function(t,o){}},["NHnr"]);
//# sourceMappingURL=app.962cc52ee59807bf4e56.js.map